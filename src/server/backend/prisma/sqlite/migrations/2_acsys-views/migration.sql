CREATE VIEW IF NOT EXISTS V_User_Cms AS SELECT "id", "version", "isDeleted", "authProvider", "providerIdentity", "avatarId", "coverId" FROM User;
CREATE TRIGGER IF NOT EXISTS V_User_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_User_Cms BEGIN UPDATE User SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "authProvider"=NEW."authProvider", "providerIdentity"=NEW."providerIdentity", "avatarId"= NULLIF(NEW."avatarId",''), "coverId"= NULLIF(NEW."coverId",'') WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_User_Cms_TI_InsertView INSTEAD OF INSERT ON V_User_Cms BEGIN INSERT INTO User("id", "version", "isDeleted", "authProvider", "providerIdentity", "avatarId", "coverId") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."authProvider", NEW."providerIdentity", NULLIF(NEW."avatarId",''), NULLIF(NEW."coverId",'')); END;
CREATE TRIGGER IF NOT EXISTS V_User_Cms_TD_DeleteView INSTEAD OF DELETE ON V_User_Cms BEGIN DELETE FROM User WHERE "id"=OLD."id"; END;
CREATE TABLE "acsys_V_User_Cms" ("id" INT NOT NULL);
CREATE VIEW IF NOT EXISTS V_UserEmail_Cms AS SELECT "id", "version", "isDeleted", "userId", "isVerified", "orderNum", "email" FROM UserEmail;
CREATE TRIGGER IF NOT EXISTS V_UserEmail_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_UserEmail_Cms BEGIN UPDATE UserEmail SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "userId"=NEW."userId", "isVerified"=NEW."isVerified", "orderNum"=NEW."orderNum", "email"=NEW."email" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_UserEmail_Cms_TI_InsertView INSTEAD OF INSERT ON V_UserEmail_Cms BEGIN INSERT INTO UserEmail("id", "version", "isDeleted", "userId", "isVerified", "orderNum", "email") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."userId", NEW."isVerified", NEW."orderNum", NEW."email"); END;
CREATE TRIGGER IF NOT EXISTS V_UserEmail_Cms_TD_DeleteView INSTEAD OF DELETE ON V_UserEmail_Cms BEGIN DELETE FROM UserEmail WHERE "id"=OLD."id"; END;
CREATE TABLE "acsys_V_UserEmail_Cms" ("id" INT NOT NULL);
CREATE VIEW IF NOT EXISTS V_Image_Cms AS SELECT "id", "version", "isDeleted", "slug", "categoryId", "ownerId", "fileId", "invertForDarkTheme", "stubCssStyle" FROM Image;
CREATE TRIGGER IF NOT EXISTS V_Image_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_Image_Cms BEGIN UPDATE Image SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "slug"=NEW."slug", "categoryId"=NEW."categoryId", "ownerId"= NULLIF(NEW."ownerId",''), "fileId"=NEW."fileId", "invertForDarkTheme"=NEW."invertForDarkTheme", "stubCssStyle"= NULLIF(NEW."stubCssStyle",'') WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_Image_Cms_TI_InsertView INSTEAD OF INSERT ON V_Image_Cms BEGIN INSERT INTO Image("id", "version", "isDeleted", "slug", "categoryId", "ownerId", "fileId", "invertForDarkTheme", "stubCssStyle") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."slug", NEW."categoryId", NULLIF(NEW."ownerId",''), NEW."fileId", NEW."invertForDarkTheme", NULLIF(NEW."stubCssStyle",'')); END;
CREATE TRIGGER IF NOT EXISTS V_Image_Cms_TD_DeleteView INSTEAD OF DELETE ON V_Image_Cms BEGIN DELETE FROM Image WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS acsys_V_Image_Cms AS SELECT "id", "version", "isDeleted", "slug", "categoryId", "ownerId", "fileId", "invertForDarkTheme", "stubCssStyle" FROM AcsysDraftsImage;
CREATE TRIGGER IF NOT EXISTS acsys_V_Image_Cms_TU_UpdateView INSTEAD OF UPDATE ON acsys_V_Image_Cms BEGIN UPDATE AcsysDraftsImage SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "slug"=NEW."slug", "categoryId"=NEW."categoryId", "ownerId"= NULLIF(NEW."ownerId",''), "fileId"=NEW."fileId", "invertForDarkTheme"=NEW."invertForDarkTheme", "stubCssStyle"= NULLIF(NEW."stubCssStyle",'') WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS acsys_V_Image_Cms_TI_InsertView INSTEAD OF INSERT ON acsys_V_Image_Cms BEGIN INSERT INTO AcsysDraftsImage("id", "version", "isDeleted", "slug", "categoryId", "ownerId", "fileId", "invertForDarkTheme", "stubCssStyle") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."slug", NEW."categoryId", NULLIF(NEW."ownerId",''), NEW."fileId", NEW."invertForDarkTheme", NULLIF(NEW."stubCssStyle",'')); END;
CREATE TRIGGER IF NOT EXISTS acsys_V_Image_Cms_TD_DeleteView INSTEAD OF DELETE ON acsys_V_Image_Cms BEGIN DELETE FROM AcsysDraftsImage WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS V_ImageCategory_Cms AS SELECT "id", "version", "kind", "width", "height" FROM ImageCategory;
CREATE TRIGGER IF NOT EXISTS V_ImageCategory_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_ImageCategory_Cms BEGIN UPDATE ImageCategory SET "version"=NEW."version", "kind"=NEW."kind", "width"=NEW."width", "height"=NEW."height" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_ImageCategory_Cms_TI_InsertView INSTEAD OF INSERT ON V_ImageCategory_Cms BEGIN INSERT INTO ImageCategory("id", "version", "kind", "width", "height") VALUES(NEW."id", NEW."version", NEW."kind", NEW."width", NEW."height"); END;
CREATE TRIGGER IF NOT EXISTS V_ImageCategory_Cms_TD_DeleteView INSTEAD OF DELETE ON V_ImageCategory_Cms BEGIN DELETE FROM ImageCategory WHERE "id"=OLD."id"; END;
CREATE TABLE "acsys_V_ImageCategory_Cms" ("id" INT NOT NULL);
CREATE VIEW IF NOT EXISTS V_AuthFormImage_Cms AS SELECT "id", "version", "isDeleted", "imageId", "orderNum" FROM AuthFormImage;
CREATE TRIGGER IF NOT EXISTS V_AuthFormImage_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_AuthFormImage_Cms BEGIN UPDATE AuthFormImage SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "imageId"=NEW."imageId", "orderNum"=NEW."orderNum" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_AuthFormImage_Cms_TI_InsertView INSTEAD OF INSERT ON V_AuthFormImage_Cms BEGIN INSERT INTO AuthFormImage("id", "version", "isDeleted", "imageId", "orderNum") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."imageId", NEW."orderNum"); END;
CREATE TRIGGER IF NOT EXISTS V_AuthFormImage_Cms_TD_DeleteView INSTEAD OF DELETE ON V_AuthFormImage_Cms BEGIN DELETE FROM AuthFormImage WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS acsys_V_AuthFormImage_Cms AS SELECT "id", "version", "isDeleted", "imageId", "orderNum" FROM AcsysDraftsAuthFormImage;
CREATE TRIGGER IF NOT EXISTS acsys_V_AuthFormImage_Cms_TU_UpdateView INSTEAD OF UPDATE ON acsys_V_AuthFormImage_Cms BEGIN UPDATE AcsysDraftsAuthFormImage SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "imageId"=NEW."imageId", "orderNum"=NEW."orderNum" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS acsys_V_AuthFormImage_Cms_TI_InsertView INSTEAD OF INSERT ON acsys_V_AuthFormImage_Cms BEGIN INSERT INTO AcsysDraftsAuthFormImage("id", "version", "isDeleted", "imageId", "orderNum") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."imageId", NEW."orderNum"); END;
CREATE TRIGGER IF NOT EXISTS acsys_V_AuthFormImage_Cms_TD_DeleteView INSTEAD OF DELETE ON acsys_V_AuthFormImage_Cms BEGIN DELETE FROM AcsysDraftsAuthFormImage WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS V_Flight_Cms AS SELECT "id", "version", "isDeleted", "airlineCompanyId", "airplaneId", "departmentAirportId", "arrivalAirportId", "departmentUtcPosix", "arrivalUtcPosix" FROM Flight;
CREATE TRIGGER IF NOT EXISTS V_Flight_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_Flight_Cms BEGIN UPDATE Flight SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "airlineCompanyId"=NEW."airlineCompanyId", "airplaneId"=NEW."airplaneId", "departmentAirportId"=NEW."departmentAirportId", "arrivalAirportId"=NEW."arrivalAirportId", "departmentUtcPosix"=NEW."departmentUtcPosix", "arrivalUtcPosix"=NEW."arrivalUtcPosix" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_Flight_Cms_TI_InsertView INSTEAD OF INSERT ON V_Flight_Cms BEGIN INSERT INTO Flight("id", "version", "isDeleted", "airlineCompanyId", "airplaneId", "departmentAirportId", "arrivalAirportId", "departmentUtcPosix", "arrivalUtcPosix") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."airlineCompanyId", NEW."airplaneId", NEW."departmentAirportId", NEW."arrivalAirportId", NEW."departmentUtcPosix", NEW."arrivalUtcPosix"); END;
CREATE TRIGGER IF NOT EXISTS V_Flight_Cms_TD_DeleteView INSTEAD OF DELETE ON V_Flight_Cms BEGIN DELETE FROM Flight WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS acsys_V_Flight_Cms AS SELECT "id", "version", "isDeleted", "airlineCompanyId", "airplaneId", "departmentAirportId", "arrivalAirportId", "departmentUtcPosix", "arrivalUtcPosix" FROM AcsysDraftsFlight;
CREATE TRIGGER IF NOT EXISTS acsys_V_Flight_Cms_TU_UpdateView INSTEAD OF UPDATE ON acsys_V_Flight_Cms BEGIN UPDATE AcsysDraftsFlight SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "airlineCompanyId"=NEW."airlineCompanyId", "airplaneId"=NEW."airplaneId", "departmentAirportId"=NEW."departmentAirportId", "arrivalAirportId"=NEW."arrivalAirportId", "departmentUtcPosix"=NEW."departmentUtcPosix", "arrivalUtcPosix"=NEW."arrivalUtcPosix" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS acsys_V_Flight_Cms_TI_InsertView INSTEAD OF INSERT ON acsys_V_Flight_Cms BEGIN INSERT INTO AcsysDraftsFlight("id", "version", "isDeleted", "airlineCompanyId", "airplaneId", "departmentAirportId", "arrivalAirportId", "departmentUtcPosix", "arrivalUtcPosix") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."airlineCompanyId", NEW."airplaneId", NEW."departmentAirportId", NEW."arrivalAirportId", NEW."departmentUtcPosix", NEW."arrivalUtcPosix"); END;
CREATE TRIGGER IF NOT EXISTS acsys_V_Flight_Cms_TD_DeleteView INSTEAD OF DELETE ON acsys_V_Flight_Cms BEGIN DELETE FROM AcsysDraftsFlight WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS V_FlightOffer_Cms AS SELECT "id", "version", "isDeleted", "departFlightId", "returnFlightId", "totalPrice", "numPassengers", "class" FROM FlightOffer;
CREATE TRIGGER IF NOT EXISTS V_FlightOffer_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_FlightOffer_Cms BEGIN UPDATE FlightOffer SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "departFlightId"=NEW."departFlightId", "returnFlightId"= NULLIF(NEW."returnFlightId",''), "totalPrice"=NEW."totalPrice", "numPassengers"=NEW."numPassengers", "class"=NEW."class" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_FlightOffer_Cms_TI_InsertView INSTEAD OF INSERT ON V_FlightOffer_Cms BEGIN INSERT INTO FlightOffer("id", "version", "isDeleted", "departFlightId", "returnFlightId", "totalPrice", "numPassengers", "class") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."departFlightId", NULLIF(NEW."returnFlightId",''), NEW."totalPrice", NEW."numPassengers", NEW."class"); END;
CREATE TRIGGER IF NOT EXISTS V_FlightOffer_Cms_TD_DeleteView INSTEAD OF DELETE ON V_FlightOffer_Cms BEGIN DELETE FROM FlightOffer WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS acsys_V_FlightOffer_Cms AS SELECT "id", "version", "isDeleted", "departFlightId", "returnFlightId", "totalPrice", "numPassengers", "class" FROM AcsysDraftsFlightOffer;
CREATE TRIGGER IF NOT EXISTS acsys_V_FlightOffer_Cms_TU_UpdateView INSTEAD OF UPDATE ON acsys_V_FlightOffer_Cms BEGIN UPDATE AcsysDraftsFlightOffer SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "departFlightId"=NEW."departFlightId", "returnFlightId"= NULLIF(NEW."returnFlightId",''), "totalPrice"=NEW."totalPrice", "numPassengers"=NEW."numPassengers", "class"=NEW."class" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS acsys_V_FlightOffer_Cms_TI_InsertView INSTEAD OF INSERT ON acsys_V_FlightOffer_Cms BEGIN INSERT INTO AcsysDraftsFlightOffer("id", "version", "isDeleted", "departFlightId", "returnFlightId", "totalPrice", "numPassengers", "class") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."departFlightId", NULLIF(NEW."returnFlightId",''), NEW."totalPrice", NEW."numPassengers", NEW."class"); END;
CREATE TRIGGER IF NOT EXISTS acsys_V_FlightOffer_Cms_TD_DeleteView INSTEAD OF DELETE ON acsys_V_FlightOffer_Cms BEGIN DELETE FROM AcsysDraftsFlightOffer WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS V_StayOffer_Cms AS SELECT "id", "version", "isDeleted", "hotelId", "totalPrice", "checkInPosix", "checkOutPosix", "numRooms", "numGuests" FROM StayOffer;
CREATE TRIGGER IF NOT EXISTS V_StayOffer_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_StayOffer_Cms BEGIN UPDATE StayOffer SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "hotelId"=NEW."hotelId", "totalPrice"=NEW."totalPrice", "checkInPosix"=NEW."checkInPosix", "checkOutPosix"=NEW."checkOutPosix", "numRooms"=NEW."numRooms", "numGuests"=NEW."numGuests" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_StayOffer_Cms_TI_InsertView INSTEAD OF INSERT ON V_StayOffer_Cms BEGIN INSERT INTO StayOffer("id", "version", "isDeleted", "hotelId", "totalPrice", "checkInPosix", "checkOutPosix", "numRooms", "numGuests") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."hotelId", NEW."totalPrice", NEW."checkInPosix", NEW."checkOutPosix", NEW."numRooms", NEW."numGuests"); END;
CREATE TRIGGER IF NOT EXISTS V_StayOffer_Cms_TD_DeleteView INSTEAD OF DELETE ON V_StayOffer_Cms BEGIN DELETE FROM StayOffer WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS acsys_V_StayOffer_Cms AS SELECT "id", "version", "isDeleted", "hotelId", "totalPrice", "checkInPosix", "checkOutPosix", "numRooms", "numGuests" FROM AcsysDraftsStayOffer;
CREATE TRIGGER IF NOT EXISTS acsys_V_StayOffer_Cms_TU_UpdateView INSTEAD OF UPDATE ON acsys_V_StayOffer_Cms BEGIN UPDATE AcsysDraftsStayOffer SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "hotelId"=NEW."hotelId", "totalPrice"=NEW."totalPrice", "checkInPosix"=NEW."checkInPosix", "checkOutPosix"=NEW."checkOutPosix", "numRooms"=NEW."numRooms", "numGuests"=NEW."numGuests" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS acsys_V_StayOffer_Cms_TI_InsertView INSTEAD OF INSERT ON acsys_V_StayOffer_Cms BEGIN INSERT INTO AcsysDraftsStayOffer("id", "version", "isDeleted", "hotelId", "totalPrice", "checkInPosix", "checkOutPosix", "numRooms", "numGuests") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."hotelId", NEW."totalPrice", NEW."checkInPosix", NEW."checkOutPosix", NEW."numRooms", NEW."numGuests"); END;
CREATE TRIGGER IF NOT EXISTS acsys_V_StayOffer_Cms_TD_DeleteView INSTEAD OF DELETE ON acsys_V_StayOffer_Cms BEGIN DELETE FROM AcsysDraftsStayOffer WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS V_UserFlightOffer_Cms AS SELECT "id", "version", "isDeleted", "offerId", "userId", "isFavourite" FROM UserFlightOffer;
CREATE TRIGGER IF NOT EXISTS V_UserFlightOffer_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_UserFlightOffer_Cms BEGIN UPDATE UserFlightOffer SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "offerId"=NEW."offerId", "userId"=NEW."userId", "isFavourite"=NEW."isFavourite" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_UserFlightOffer_Cms_TI_InsertView INSTEAD OF INSERT ON V_UserFlightOffer_Cms BEGIN INSERT INTO UserFlightOffer("id", "version", "isDeleted", "offerId", "userId", "isFavourite") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."offerId", NEW."userId", NEW."isFavourite"); END;
CREATE TRIGGER IF NOT EXISTS V_UserFlightOffer_Cms_TD_DeleteView INSTEAD OF DELETE ON V_UserFlightOffer_Cms BEGIN DELETE FROM UserFlightOffer WHERE "id"=OLD."id"; END;
CREATE TABLE "acsys_V_UserFlightOffer_Cms" ("id" INT NOT NULL);
CREATE VIEW IF NOT EXISTS V_Hotel_Cms AS SELECT "id", "version", "isDeleted", "cityId", "nameStrId", "slug", "lon", "lat" FROM Hotel;
CREATE TRIGGER IF NOT EXISTS V_Hotel_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_Hotel_Cms BEGIN UPDATE Hotel SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "cityId"=NEW."cityId", "nameStrId"=NEW."nameStrId", "slug"=NEW."slug", "lon"=NEW."lon", "lat"=NEW."lat" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_Hotel_Cms_TI_InsertView INSTEAD OF INSERT ON V_Hotel_Cms BEGIN INSERT INTO Hotel("id", "version", "isDeleted", "cityId", "nameStrId", "slug", "lon", "lat") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."cityId", NEW."nameStrId", NEW."slug", NEW."lon", NEW."lat"); END;
CREATE TRIGGER IF NOT EXISTS V_Hotel_Cms_TD_DeleteView INSTEAD OF DELETE ON V_Hotel_Cms BEGIN DELETE FROM Hotel WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS acsys_V_Hotel_Cms AS SELECT "id", "version", "isDeleted", "cityId", "nameStrId", "slug", "lon", "lat" FROM AcsysDraftsHotel;
CREATE TRIGGER IF NOT EXISTS acsys_V_Hotel_Cms_TU_UpdateView INSTEAD OF UPDATE ON acsys_V_Hotel_Cms BEGIN UPDATE AcsysDraftsHotel SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "cityId"=NEW."cityId", "nameStrId"=NEW."nameStrId", "slug"=NEW."slug", "lon"=NEW."lon", "lat"=NEW."lat" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS acsys_V_Hotel_Cms_TI_InsertView INSTEAD OF INSERT ON acsys_V_Hotel_Cms BEGIN INSERT INTO AcsysDraftsHotel("id", "version", "isDeleted", "cityId", "nameStrId", "slug", "lon", "lat") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."cityId", NEW."nameStrId", NEW."slug", NEW."lon", NEW."lat"); END;
CREATE TRIGGER IF NOT EXISTS acsys_V_Hotel_Cms_TD_DeleteView INSTEAD OF DELETE ON acsys_V_Hotel_Cms BEGIN DELETE FROM AcsysDraftsHotel WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS V_HotelDescription_Cms AS SELECT "id", "version", "isDeleted", "hotelId", "textStrId", "paragraphKind", "orderNum" FROM HotelDescription;
CREATE TRIGGER IF NOT EXISTS V_HotelDescription_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_HotelDescription_Cms BEGIN UPDATE HotelDescription SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "hotelId"=NEW."hotelId", "textStrId"=NEW."textStrId", "paragraphKind"=NEW."paragraphKind", "orderNum"=NEW."orderNum" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_HotelDescription_Cms_TI_InsertView INSTEAD OF INSERT ON V_HotelDescription_Cms BEGIN INSERT INTO HotelDescription("id", "version", "isDeleted", "hotelId", "textStrId", "paragraphKind", "orderNum") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."hotelId", NEW."textStrId", NEW."paragraphKind", NEW."orderNum"); END;
CREATE TRIGGER IF NOT EXISTS V_HotelDescription_Cms_TD_DeleteView INSTEAD OF DELETE ON V_HotelDescription_Cms BEGIN DELETE FROM HotelDescription WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS acsys_V_HotelDescription_Cms AS SELECT "id", "version", "isDeleted", "hotelId", "textStrId", "paragraphKind", "orderNum" FROM AcsysDraftsHotelDescription;
CREATE TRIGGER IF NOT EXISTS acsys_V_HotelDescription_Cms_TU_UpdateView INSTEAD OF UPDATE ON acsys_V_HotelDescription_Cms BEGIN UPDATE AcsysDraftsHotelDescription SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "hotelId"=NEW."hotelId", "textStrId"=NEW."textStrId", "paragraphKind"=NEW."paragraphKind", "orderNum"=NEW."orderNum" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS acsys_V_HotelDescription_Cms_TI_InsertView INSTEAD OF INSERT ON acsys_V_HotelDescription_Cms BEGIN INSERT INTO AcsysDraftsHotelDescription("id", "version", "isDeleted", "hotelId", "textStrId", "paragraphKind", "orderNum") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."hotelId", NEW."textStrId", NEW."paragraphKind", NEW."orderNum"); END;
CREATE TRIGGER IF NOT EXISTS acsys_V_HotelDescription_Cms_TD_DeleteView INSTEAD OF DELETE ON acsys_V_HotelDescription_Cms BEGIN DELETE FROM AcsysDraftsHotelDescription WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS V_HotelReview_Cms AS SELECT "id", "version", "isDeleted", "hotelId", "userId", "textStrId", "score" FROM HotelReview;
CREATE TRIGGER IF NOT EXISTS V_HotelReview_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_HotelReview_Cms BEGIN UPDATE HotelReview SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "hotelId"=NEW."hotelId", "userId"=NEW."userId", "textStrId"=NEW."textStrId", "score"=NEW."score" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_HotelReview_Cms_TI_InsertView INSTEAD OF INSERT ON V_HotelReview_Cms BEGIN INSERT INTO HotelReview("id", "version", "isDeleted", "hotelId", "userId", "textStrId", "score") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."hotelId", NEW."userId", NEW."textStrId", NEW."score"); END;
CREATE TRIGGER IF NOT EXISTS V_HotelReview_Cms_TD_DeleteView INSTEAD OF DELETE ON V_HotelReview_Cms BEGIN DELETE FROM HotelReview WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS acsys_V_HotelReview_Cms AS SELECT "id", "version", "isDeleted", "hotelId", "userId", "textStrId", "score" FROM AcsysDraftsHotelReview;
CREATE TRIGGER IF NOT EXISTS acsys_V_HotelReview_Cms_TU_UpdateView INSTEAD OF UPDATE ON acsys_V_HotelReview_Cms BEGIN UPDATE AcsysDraftsHotelReview SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "hotelId"=NEW."hotelId", "userId"=NEW."userId", "textStrId"=NEW."textStrId", "score"=NEW."score" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS acsys_V_HotelReview_Cms_TI_InsertView INSTEAD OF INSERT ON acsys_V_HotelReview_Cms BEGIN INSERT INTO AcsysDraftsHotelReview("id", "version", "isDeleted", "hotelId", "userId", "textStrId", "score") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."hotelId", NEW."userId", NEW."textStrId", NEW."score"); END;
CREATE TRIGGER IF NOT EXISTS acsys_V_HotelReview_Cms_TD_DeleteView INSTEAD OF DELETE ON acsys_V_HotelReview_Cms BEGIN DELETE FROM AcsysDraftsHotelReview WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS V_HotelImage_Cms AS SELECT "id", "version", "isDeleted", "hotelId", "imageId", "serviceLevel", "orderNum" FROM HotelImage;
CREATE TRIGGER IF NOT EXISTS V_HotelImage_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_HotelImage_Cms BEGIN UPDATE HotelImage SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "hotelId"=NEW."hotelId", "imageId"=NEW."imageId", "serviceLevel"= NULLIF(NEW."serviceLevel",''), "orderNum"=NEW."orderNum" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_HotelImage_Cms_TI_InsertView INSTEAD OF INSERT ON V_HotelImage_Cms BEGIN INSERT INTO HotelImage("id", "version", "isDeleted", "hotelId", "imageId", "serviceLevel", "orderNum") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."hotelId", NEW."imageId", NULLIF(NEW."serviceLevel",''), NEW."orderNum"); END;
CREATE TRIGGER IF NOT EXISTS V_HotelImage_Cms_TD_DeleteView INSTEAD OF DELETE ON V_HotelImage_Cms BEGIN DELETE FROM HotelImage WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS acsys_V_HotelImage_Cms AS SELECT "id", "version", "isDeleted", "hotelId", "imageId", "serviceLevel", "orderNum" FROM AcsysDraftsHotelImage;
CREATE TRIGGER IF NOT EXISTS acsys_V_HotelImage_Cms_TU_UpdateView INSTEAD OF UPDATE ON acsys_V_HotelImage_Cms BEGIN UPDATE AcsysDraftsHotelImage SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "hotelId"=NEW."hotelId", "imageId"=NEW."imageId", "serviceLevel"= NULLIF(NEW."serviceLevel",''), "orderNum"=NEW."orderNum" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS acsys_V_HotelImage_Cms_TI_InsertView INSTEAD OF INSERT ON acsys_V_HotelImage_Cms BEGIN INSERT INTO AcsysDraftsHotelImage("id", "version", "isDeleted", "hotelId", "imageId", "serviceLevel", "orderNum") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."hotelId", NEW."imageId", NULLIF(NEW."serviceLevel",''), NEW."orderNum"); END;
CREATE TRIGGER IF NOT EXISTS acsys_V_HotelImage_Cms_TD_DeleteView INSTEAD OF DELETE ON acsys_V_HotelImage_Cms BEGIN DELETE FROM AcsysDraftsHotelImage WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS V_Booking_Cms AS SELECT "id", "version", "isDeleted", "flightOfferId", "stayOfferId", "userId", "serviceLevel" FROM Booking;
CREATE TRIGGER IF NOT EXISTS V_Booking_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_Booking_Cms BEGIN UPDATE Booking SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "flightOfferId"= NULLIF(NEW."flightOfferId",''), "stayOfferId"= NULLIF(NEW."stayOfferId",''), "userId"=NEW."userId", "serviceLevel"= NULLIF(NEW."serviceLevel",'') WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_Booking_Cms_TI_InsertView INSTEAD OF INSERT ON V_Booking_Cms BEGIN INSERT INTO Booking("id", "version", "isDeleted", "flightOfferId", "stayOfferId", "userId", "serviceLevel") VALUES(NEW."id", NEW."version", NEW."isDeleted", NULLIF(NEW."flightOfferId",''), NULLIF(NEW."stayOfferId",''), NEW."userId", NULLIF(NEW."serviceLevel",'')); END;
CREATE TRIGGER IF NOT EXISTS V_Booking_Cms_TD_DeleteView INSTEAD OF DELETE ON V_Booking_Cms BEGIN DELETE FROM Booking WHERE "id"=OLD."id"; END;
CREATE TABLE "acsys_V_Booking_Cms" ("id" INT NOT NULL);
CREATE VIEW IF NOT EXISTS V_PopularCity_Cms AS SELECT "id", "version", "cityId", "promoLineStrId", "travelHeaderStrId", "travelTextStrId", "rating", "visibleOnWorldMap" FROM PopularCity;
CREATE TRIGGER IF NOT EXISTS V_PopularCity_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_PopularCity_Cms BEGIN UPDATE PopularCity SET "version"=NEW."version", "cityId"=NEW."cityId", "promoLineStrId"=NEW."promoLineStrId", "travelHeaderStrId"=NEW."travelHeaderStrId", "travelTextStrId"=NEW."travelTextStrId", "rating"=NEW."rating", "visibleOnWorldMap"=NEW."visibleOnWorldMap" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_PopularCity_Cms_TI_InsertView INSTEAD OF INSERT ON V_PopularCity_Cms BEGIN INSERT INTO PopularCity("id", "version", "cityId", "promoLineStrId", "travelHeaderStrId", "travelTextStrId", "rating", "visibleOnWorldMap") VALUES(NEW."id", NEW."version", NEW."cityId", NEW."promoLineStrId", NEW."travelHeaderStrId", NEW."travelTextStrId", NEW."rating", NEW."visibleOnWorldMap"); END;
CREATE TRIGGER IF NOT EXISTS V_PopularCity_Cms_TD_DeleteView INSTEAD OF DELETE ON V_PopularCity_Cms BEGIN DELETE FROM PopularCity WHERE "id"=OLD."id"; END;
CREATE TABLE "acsys_V_PopularCity_Cms" ("id" INT NOT NULL);
CREATE VIEW IF NOT EXISTS V_PopularCityImage_Cms AS SELECT "id", "version", "isDeleted", "popularCityId", "imageId", "orderNum" FROM PopularCityImage;
CREATE TRIGGER IF NOT EXISTS V_PopularCityImage_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_PopularCityImage_Cms BEGIN UPDATE PopularCityImage SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "popularCityId"=NEW."popularCityId", "imageId"=NEW."imageId", "orderNum"=NEW."orderNum" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_PopularCityImage_Cms_TI_InsertView INSTEAD OF INSERT ON V_PopularCityImage_Cms BEGIN INSERT INTO PopularCityImage("id", "version", "isDeleted", "popularCityId", "imageId", "orderNum") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."popularCityId", NEW."imageId", NEW."orderNum"); END;
CREATE TRIGGER IF NOT EXISTS V_PopularCityImage_Cms_TD_DeleteView INSTEAD OF DELETE ON V_PopularCityImage_Cms BEGIN DELETE FROM PopularCityImage WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS acsys_V_PopularCityImage_Cms AS SELECT "id", "version", "isDeleted", "popularCityId", "imageId", "orderNum" FROM AcsysDraftsPopularCityImage;
CREATE TRIGGER IF NOT EXISTS acsys_V_PopularCityImage_Cms_TU_UpdateView INSTEAD OF UPDATE ON acsys_V_PopularCityImage_Cms BEGIN UPDATE AcsysDraftsPopularCityImage SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "popularCityId"=NEW."popularCityId", "imageId"=NEW."imageId", "orderNum"=NEW."orderNum" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS acsys_V_PopularCityImage_Cms_TI_InsertView INSTEAD OF INSERT ON acsys_V_PopularCityImage_Cms BEGIN INSERT INTO AcsysDraftsPopularCityImage("id", "version", "isDeleted", "popularCityId", "imageId", "orderNum") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."popularCityId", NEW."imageId", NEW."orderNum"); END;
CREATE TRIGGER IF NOT EXISTS acsys_V_PopularCityImage_Cms_TD_DeleteView INSTEAD OF DELETE ON acsys_V_PopularCityImage_Cms BEGIN DELETE FROM AcsysDraftsPopularCityImage WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS V_Country_Cms AS SELECT "id", "version", "isDeleted", "nameStrId" FROM Country;
CREATE TRIGGER IF NOT EXISTS V_Country_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_Country_Cms BEGIN UPDATE Country SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "nameStrId"=NEW."nameStrId" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_Country_Cms_TI_InsertView INSTEAD OF INSERT ON V_Country_Cms BEGIN INSERT INTO Country("id", "version", "isDeleted", "nameStrId") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."nameStrId"); END;
CREATE TRIGGER IF NOT EXISTS V_Country_Cms_TD_DeleteView INSTEAD OF DELETE ON V_Country_Cms BEGIN DELETE FROM Country WHERE "id"=OLD."id"; END;
CREATE TABLE "acsys_V_Country_Cms" ("id" INT NOT NULL);
CREATE VIEW IF NOT EXISTS V_City_Cms AS SELECT "id", "version", "isDeleted", "nameStrId", "countryId", "slug", "textForSearch", "lon", "lat", "population", "utcOffsetMin" FROM City;
CREATE TRIGGER IF NOT EXISTS V_City_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_City_Cms BEGIN UPDATE City SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "nameStrId"=NEW."nameStrId", "countryId"=NEW."countryId", "slug"=NEW."slug", "textForSearch"=NEW."textForSearch", "lon"=NEW."lon", "lat"=NEW."lat", "population"=NEW."population", "utcOffsetMin"=NEW."utcOffsetMin" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_City_Cms_TI_InsertView INSTEAD OF INSERT ON V_City_Cms BEGIN INSERT INTO City("id", "version", "isDeleted", "nameStrId", "countryId", "slug", "textForSearch", "lon", "lat", "population", "utcOffsetMin") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."nameStrId", NEW."countryId", NEW."slug", NEW."textForSearch", NEW."lon", NEW."lat", NEW."population", NEW."utcOffsetMin"); END;
CREATE TRIGGER IF NOT EXISTS V_City_Cms_TD_DeleteView INSTEAD OF DELETE ON V_City_Cms BEGIN DELETE FROM City WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS acsys_V_City_Cms AS SELECT "id", "version", "isDeleted", "nameStrId", "countryId", "slug", "textForSearch", "lon", "lat", "population", "utcOffsetMin" FROM AcsysDraftsCity;
CREATE TRIGGER IF NOT EXISTS acsys_V_City_Cms_TU_UpdateView INSTEAD OF UPDATE ON acsys_V_City_Cms BEGIN UPDATE AcsysDraftsCity SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "nameStrId"=NEW."nameStrId", "countryId"=NEW."countryId", "slug"=NEW."slug", "textForSearch"=NEW."textForSearch", "lon"=NEW."lon", "lat"=NEW."lat", "population"=NEW."population", "utcOffsetMin"=NEW."utcOffsetMin" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS acsys_V_City_Cms_TI_InsertView INSTEAD OF INSERT ON acsys_V_City_Cms BEGIN INSERT INTO AcsysDraftsCity("id", "version", "isDeleted", "nameStrId", "countryId", "slug", "textForSearch", "lon", "lat", "population", "utcOffsetMin") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."nameStrId", NEW."countryId", NEW."slug", NEW."textForSearch", NEW."lon", NEW."lat", NEW."population", NEW."utcOffsetMin"); END;
CREATE TRIGGER IF NOT EXISTS acsys_V_City_Cms_TD_DeleteView INSTEAD OF DELETE ON acsys_V_City_Cms BEGIN DELETE FROM AcsysDraftsCity WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS V_Airport_Cms AS SELECT "id", "version", "isDeleted", "cityId", "nameStrId", "lon", "lat" FROM Airport;
CREATE TRIGGER IF NOT EXISTS V_Airport_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_Airport_Cms BEGIN UPDATE Airport SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "cityId"=NEW."cityId", "nameStrId"=NEW."nameStrId", "lon"=NEW."lon", "lat"=NEW."lat" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_Airport_Cms_TI_InsertView INSTEAD OF INSERT ON V_Airport_Cms BEGIN INSERT INTO Airport("id", "version", "isDeleted", "cityId", "nameStrId", "lon", "lat") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."cityId", NEW."nameStrId", NEW."lon", NEW."lat"); END;
CREATE TRIGGER IF NOT EXISTS V_Airport_Cms_TD_DeleteView INSTEAD OF DELETE ON V_Airport_Cms BEGIN DELETE FROM Airport WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS acsys_V_Airport_Cms AS SELECT "id", "version", "isDeleted", "cityId", "nameStrId", "lon", "lat" FROM AcsysDraftsAirport;
CREATE TRIGGER IF NOT EXISTS acsys_V_Airport_Cms_TU_UpdateView INSTEAD OF UPDATE ON acsys_V_Airport_Cms BEGIN UPDATE AcsysDraftsAirport SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "cityId"=NEW."cityId", "nameStrId"=NEW."nameStrId", "lon"=NEW."lon", "lat"=NEW."lat" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS acsys_V_Airport_Cms_TI_InsertView INSTEAD OF INSERT ON acsys_V_Airport_Cms BEGIN INSERT INTO AcsysDraftsAirport("id", "version", "isDeleted", "cityId", "nameStrId", "lon", "lat") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."cityId", NEW."nameStrId", NEW."lon", NEW."lat"); END;
CREATE TRIGGER IF NOT EXISTS acsys_V_Airport_Cms_TD_DeleteView INSTEAD OF DELETE ON acsys_V_Airport_Cms BEGIN DELETE FROM AcsysDraftsAirport WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS V_CompanyReview_Cms AS SELECT "id", "version", "isDeleted", "personNameStrId", "imageId", "headerStrId", "bodyStrId" FROM CompanyReview;
CREATE TRIGGER IF NOT EXISTS V_CompanyReview_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_CompanyReview_Cms BEGIN UPDATE CompanyReview SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "personNameStrId"=NEW."personNameStrId", "imageId"=NEW."imageId", "headerStrId"=NEW."headerStrId", "bodyStrId"=NEW."bodyStrId" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_CompanyReview_Cms_TI_InsertView INSTEAD OF INSERT ON V_CompanyReview_Cms BEGIN INSERT INTO CompanyReview("id", "version", "isDeleted", "personNameStrId", "imageId", "headerStrId", "bodyStrId") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."personNameStrId", NEW."imageId", NEW."headerStrId", NEW."bodyStrId"); END;
CREATE TRIGGER IF NOT EXISTS V_CompanyReview_Cms_TD_DeleteView INSTEAD OF DELETE ON V_CompanyReview_Cms BEGIN DELETE FROM CompanyReview WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS acsys_V_CompanyReview_Cms AS SELECT "id", "version", "isDeleted", "personNameStrId", "imageId", "headerStrId", "bodyStrId" FROM AcsysDraftsCompanyReview;
CREATE TRIGGER IF NOT EXISTS acsys_V_CompanyReview_Cms_TU_UpdateView INSTEAD OF UPDATE ON acsys_V_CompanyReview_Cms BEGIN UPDATE AcsysDraftsCompanyReview SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "personNameStrId"=NEW."personNameStrId", "imageId"=NEW."imageId", "headerStrId"=NEW."headerStrId", "bodyStrId"=NEW."bodyStrId" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS acsys_V_CompanyReview_Cms_TI_InsertView INSTEAD OF INSERT ON acsys_V_CompanyReview_Cms BEGIN INSERT INTO AcsysDraftsCompanyReview("id", "version", "isDeleted", "personNameStrId", "imageId", "headerStrId", "bodyStrId") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."personNameStrId", NEW."imageId", NEW."headerStrId", NEW."bodyStrId"); END;
CREATE TRIGGER IF NOT EXISTS acsys_V_CompanyReview_Cms_TD_DeleteView INSTEAD OF DELETE ON acsys_V_CompanyReview_Cms BEGIN DELETE FROM AcsysDraftsCompanyReview WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS V_AirlineCompany_Cms AS SELECT "id", "version", "isDeleted", "nameStrId", "cityId", "logoImageId", "numReviews", "reviewScore" FROM AirlineCompany;
CREATE TRIGGER IF NOT EXISTS V_AirlineCompany_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_AirlineCompany_Cms BEGIN UPDATE AirlineCompany SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "nameStrId"=NEW."nameStrId", "cityId"=NEW."cityId", "logoImageId"=NEW."logoImageId", "numReviews"=NEW."numReviews", "reviewScore"=NEW."reviewScore" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_AirlineCompany_Cms_TI_InsertView INSTEAD OF INSERT ON V_AirlineCompany_Cms BEGIN INSERT INTO AirlineCompany("id", "version", "isDeleted", "nameStrId", "cityId", "logoImageId", "numReviews", "reviewScore") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."nameStrId", NEW."cityId", NEW."logoImageId", NEW."numReviews", NEW."reviewScore"); END;
CREATE TRIGGER IF NOT EXISTS V_AirlineCompany_Cms_TD_DeleteView INSTEAD OF DELETE ON V_AirlineCompany_Cms BEGIN DELETE FROM AirlineCompany WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS acsys_V_AirlineCompany_Cms AS SELECT "id", "version", "isDeleted", "nameStrId", "cityId", "logoImageId", "numReviews", "reviewScore" FROM AcsysDraftsAirlineCompany;
CREATE TRIGGER IF NOT EXISTS acsys_V_AirlineCompany_Cms_TU_UpdateView INSTEAD OF UPDATE ON acsys_V_AirlineCompany_Cms BEGIN UPDATE AcsysDraftsAirlineCompany SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "nameStrId"=NEW."nameStrId", "cityId"=NEW."cityId", "logoImageId"=NEW."logoImageId", "numReviews"=NEW."numReviews", "reviewScore"=NEW."reviewScore" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS acsys_V_AirlineCompany_Cms_TI_InsertView INSTEAD OF INSERT ON acsys_V_AirlineCompany_Cms BEGIN INSERT INTO AcsysDraftsAirlineCompany("id", "version", "isDeleted", "nameStrId", "cityId", "logoImageId", "numReviews", "reviewScore") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."nameStrId", NEW."cityId", NEW."logoImageId", NEW."numReviews", NEW."reviewScore"); END;
CREATE TRIGGER IF NOT EXISTS acsys_V_AirlineCompany_Cms_TD_DeleteView INSTEAD OF DELETE ON acsys_V_AirlineCompany_Cms BEGIN DELETE FROM AcsysDraftsAirlineCompany WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS V_Airplane_Cms AS SELECT "id", "version", "isDeleted", "nameStrId" FROM Airplane;
CREATE TRIGGER IF NOT EXISTS V_Airplane_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_Airplane_Cms BEGIN UPDATE Airplane SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "nameStrId"=NEW."nameStrId" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_Airplane_Cms_TI_InsertView INSTEAD OF INSERT ON V_Airplane_Cms BEGIN INSERT INTO Airplane("id", "version", "isDeleted", "nameStrId") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."nameStrId"); END;
CREATE TRIGGER IF NOT EXISTS V_Airplane_Cms_TD_DeleteView INSTEAD OF DELETE ON V_Airplane_Cms BEGIN DELETE FROM Airplane WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS acsys_V_Airplane_Cms AS SELECT "id", "version", "isDeleted", "nameStrId" FROM AcsysDraftsAirplane;
CREATE TRIGGER IF NOT EXISTS acsys_V_Airplane_Cms_TU_UpdateView INSTEAD OF UPDATE ON acsys_V_Airplane_Cms BEGIN UPDATE AcsysDraftsAirplane SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "nameStrId"=NEW."nameStrId" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS acsys_V_Airplane_Cms_TI_InsertView INSTEAD OF INSERT ON acsys_V_Airplane_Cms BEGIN INSERT INTO AcsysDraftsAirplane("id", "version", "isDeleted", "nameStrId") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."nameStrId"); END;
CREATE TRIGGER IF NOT EXISTS acsys_V_Airplane_Cms_TD_DeleteView INSTEAD OF DELETE ON acsys_V_Airplane_Cms BEGIN DELETE FROM AcsysDraftsAirplane WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS V_AirplaneImage_Cms AS SELECT "id", "version", "isDeleted", "airplaneId", "kind", "orderNum", "imageId" FROM AirplaneImage;
CREATE TRIGGER IF NOT EXISTS V_AirplaneImage_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_AirplaneImage_Cms BEGIN UPDATE AirplaneImage SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "airplaneId"=NEW."airplaneId", "kind"=NEW."kind", "orderNum"=NEW."orderNum", "imageId"=NEW."imageId" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_AirplaneImage_Cms_TI_InsertView INSTEAD OF INSERT ON V_AirplaneImage_Cms BEGIN INSERT INTO AirplaneImage("id", "version", "isDeleted", "airplaneId", "kind", "orderNum", "imageId") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."airplaneId", NEW."kind", NEW."orderNum", NEW."imageId"); END;
CREATE TRIGGER IF NOT EXISTS V_AirplaneImage_Cms_TD_DeleteView INSTEAD OF DELETE ON V_AirplaneImage_Cms BEGIN DELETE FROM AirplaneImage WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS acsys_V_AirplaneImage_Cms AS SELECT "id", "version", "isDeleted", "airplaneId", "kind", "orderNum", "imageId" FROM AcsysDraftsAirplaneImage;
CREATE TRIGGER IF NOT EXISTS acsys_V_AirplaneImage_Cms_TU_UpdateView INSTEAD OF UPDATE ON acsys_V_AirplaneImage_Cms BEGIN UPDATE AcsysDraftsAirplaneImage SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "airplaneId"=NEW."airplaneId", "kind"=NEW."kind", "orderNum"=NEW."orderNum", "imageId"=NEW."imageId" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS acsys_V_AirplaneImage_Cms_TI_InsertView INSTEAD OF INSERT ON acsys_V_AirplaneImage_Cms BEGIN INSERT INTO AcsysDraftsAirplaneImage("id", "version", "isDeleted", "airplaneId", "kind", "orderNum", "imageId") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."airplaneId", NEW."kind", NEW."orderNum", NEW."imageId"); END;
CREATE TRIGGER IF NOT EXISTS acsys_V_AirplaneImage_Cms_TD_DeleteView INSTEAD OF DELETE ON acsys_V_AirplaneImage_Cms BEGIN DELETE FROM AcsysDraftsAirplaneImage WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS V_MailTemplate_Cms AS SELECT "id", "version", "isDeleted", "templateStrId", "kind" FROM MailTemplate;
CREATE TRIGGER IF NOT EXISTS V_MailTemplate_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_MailTemplate_Cms BEGIN UPDATE MailTemplate SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "templateStrId"=NEW."templateStrId", "kind"=NEW."kind" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_MailTemplate_Cms_TI_InsertView INSTEAD OF INSERT ON V_MailTemplate_Cms BEGIN INSERT INTO MailTemplate("id", "version", "isDeleted", "templateStrId", "kind") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."templateStrId", NEW."kind"); END;
CREATE TRIGGER IF NOT EXISTS V_MailTemplate_Cms_TD_DeleteView INSTEAD OF DELETE ON V_MailTemplate_Cms BEGIN DELETE FROM MailTemplate WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS acsys_V_MailTemplate_Cms AS SELECT "id", "version", "isDeleted", "templateStrId", "kind" FROM AcsysDraftsMailTemplate;
CREATE TRIGGER IF NOT EXISTS acsys_V_MailTemplate_Cms_TU_UpdateView INSTEAD OF UPDATE ON acsys_V_MailTemplate_Cms BEGIN UPDATE AcsysDraftsMailTemplate SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "templateStrId"=NEW."templateStrId", "kind"=NEW."kind" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS acsys_V_MailTemplate_Cms_TI_InsertView INSTEAD OF INSERT ON acsys_V_MailTemplate_Cms BEGIN INSERT INTO AcsysDraftsMailTemplate("id", "version", "isDeleted", "templateStrId", "kind") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."templateStrId", NEW."kind"); END;
CREATE TRIGGER IF NOT EXISTS acsys_V_MailTemplate_Cms_TD_DeleteView INSTEAD OF DELETE ON acsys_V_MailTemplate_Cms BEGIN DELETE FROM AcsysDraftsMailTemplate WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS V_VerificationToken_Cms AS SELECT "id", "version", "isDeleted", "userId", "kind", "attemptsMade" FROM VerificationToken;
CREATE TRIGGER IF NOT EXISTS V_VerificationToken_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_VerificationToken_Cms BEGIN UPDATE VerificationToken SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "userId"=NEW."userId", "kind"=NEW."kind", "attemptsMade"=NEW."attemptsMade" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_VerificationToken_Cms_TI_InsertView INSTEAD OF INSERT ON V_VerificationToken_Cms BEGIN INSERT INTO VerificationToken("id", "version", "isDeleted", "userId", "kind", "attemptsMade") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."userId", NEW."kind", NEW."attemptsMade"); END;
CREATE TRIGGER IF NOT EXISTS V_VerificationToken_Cms_TD_DeleteView INSTEAD OF DELETE ON V_VerificationToken_Cms BEGIN DELETE FROM VerificationToken WHERE "id"=OLD."id"; END;
CREATE TABLE "acsys_V_VerificationToken_Cms" ("id" INT NOT NULL);
CREATE VIEW IF NOT EXISTS V_LocalizeableValue_Cms AS SELECT "id", "version", "isDeleted", "en", "ru", "fr" FROM LocalizeableValue;
CREATE TRIGGER IF NOT EXISTS V_LocalizeableValue_Cms_TU_UpdateView INSTEAD OF UPDATE ON V_LocalizeableValue_Cms BEGIN UPDATE LocalizeableValue SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "en"=NEW."en", "ru"=NEW."ru", "fr"=NEW."fr" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS V_LocalizeableValue_Cms_TI_InsertView INSTEAD OF INSERT ON V_LocalizeableValue_Cms BEGIN INSERT INTO LocalizeableValue("id", "version", "isDeleted", "en", "ru", "fr") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."en", NEW."ru", NEW."fr"); END;
CREATE TRIGGER IF NOT EXISTS V_LocalizeableValue_Cms_TD_DeleteView INSTEAD OF DELETE ON V_LocalizeableValue_Cms BEGIN DELETE FROM LocalizeableValue WHERE "id"=OLD."id"; END;
CREATE VIEW IF NOT EXISTS acsys_V_LocalizeableValue_Cms AS SELECT "id", "version", "isDeleted", "en", "ru", "fr" FROM AcsysDraftsLocalizeableValue;
CREATE TRIGGER IF NOT EXISTS acsys_V_LocalizeableValue_Cms_TU_UpdateView INSTEAD OF UPDATE ON acsys_V_LocalizeableValue_Cms BEGIN UPDATE AcsysDraftsLocalizeableValue SET "version"=NEW."version", "isDeleted"=NEW."isDeleted", "en"=NEW."en", "ru"=NEW."ru", "fr"=NEW."fr" WHERE "id"=NEW."id"; END;
CREATE TRIGGER IF NOT EXISTS acsys_V_LocalizeableValue_Cms_TI_InsertView INSTEAD OF INSERT ON acsys_V_LocalizeableValue_Cms BEGIN INSERT INTO AcsysDraftsLocalizeableValue("id", "version", "isDeleted", "en", "ru", "fr") VALUES(NEW."id", NEW."version", NEW."isDeleted", NEW."en", NEW."ru", NEW."fr"); END;
CREATE TRIGGER IF NOT EXISTS acsys_V_LocalizeableValue_Cms_TD_DeleteView INSTEAD OF DELETE ON acsys_V_LocalizeableValue_Cms BEGIN DELETE FROM AcsysDraftsLocalizeableValue WHERE "id"=OLD."id"; END;
